/* stylelint-disable value-keyword-case */
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
/// Blocks: Gallery 04 - 2025-05-29
// NEEDS Bootstrap v5.3

////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
$spacer: 1rem !default;

////////////////////////////////////////////////////////////////////////////////
.entry-content {

  // NOTE: `default` gallery markup generated by WordPress core
  .gallery {
    display: flex;
    flex-wrap: wrap;
    // justify-content: center;
    clear: both;
    margin: ($spacer * 1) 0;

    // &.gallery-size-thumbnail {}

    &.gallery-columns-2 {
      @include row-cols(2);
      --bs-gutter-x: #{$spacer};
      --bs-gutter-y: #{$spacer};
    }

    &.gallery-columns-3 {
      @include row-cols(2);
      --bs-gutter-x: #{$spacer};
      --bs-gutter-y: #{$spacer};

      @include media-breakpoint-up(sm) {
        @include row-cols(3);
      }
    }

    &.gallery-columns-4 {
      @include row-cols(2);
      --bs-gutter-x: #{$spacer};
      --bs-gutter-y: #{$spacer};

      @include media-breakpoint-up(sm) {
        @include row-cols(4);
      }
    }

    &.gallery-columns-5 {
      @include row-cols(2);
      --bs-gutter-x: #{$spacer};
      --bs-gutter-y: #{$spacer};

      @include media-breakpoint-up(sm) {
        @include row-cols(5);
      }
    }

    &.gallery-columns-6 {
      @include row-cols(2);
      --bs-gutter-x: #{$spacer};
      --bs-gutter-y: #{$spacer};

      @include media-breakpoint-up(sm) {
        @include row-cols(4);
      }

      @include media-breakpoint-up(lg) {
        @include row-cols(6);
      }
    }

    > * {
      @include make-col-ready();
    }

    .gallery-item {
      // > a {}

      img {
        display: inline-block;
        width: auto;
        max-width: 100%;
        height: auto;
      }
    }
  }
}

////////////////////////////////////////////////////////////////////////////////
.theme-gallery-wrap {

  // &.-flex {}

  &.-columns {
    margin: $spacer 0;

    .-icon {
      display: inline-block;
      width: 1em;
      height: 1em;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }

    .-gallery-spinner {
      @include theme-animation-spinner($gray); // FIXME: use default theme color vars

      html.no-js & {
        display: none;
      }
    }

    .-gallery {

      // until the gallery images are loaded
      opacity: 0;

      html.no-js & {
        opacity: 1;
      }

      column-gap: 0;

      .-gallery-img {

        width: 100%;
        position: relative;
        margin: 0;
        padding: 0;
        overflow: hidden;

        img {
          width: 100%;
          display: block;
          padding: 0;
          margin: 0;
          background: transparent;
          border-radius: 0;
          border: none;
          border-width: 0;
        }

        figcaption {
          background: rgba($gray-darker, 0.5);
          position: absolute;
          width: 100%;
          height: 100%;

          .-description {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;

            p {
              color: $gray-lighter;
              text-align: left;
              position: absolute;
              width: 100%;
              bottom: 0;
              padding: 0 0 $spacer ($spacer * 1.5);
              margin: 0;
            }
          }
        }

        &.left {
          figcaption {
            top: 0;
            /*rtl:ignore*/
            left: -100%;
          }
        }
        &.right {
          figcaption {
            top: 0;
            /*rtl:ignore*/
            right: -100%;
          }
        }
        &.top {
          figcaption {
            top: -100%;
          }
        }
        &.bottom {
          figcaption {
            bottom: -100%;
          }
        }
        &.animated {
          figcaption {
            transition: 0.3s ease-out;
          }
        }
        &.left.animated {
          figcaption {
            /*rtl:ignore*/
            left: 0;
          }
        }
        &.right.animated {
          figcaption {
            /*rtl:ignore*/
            right: 0;
          }
        }
        &.top.animated {
          figcaption {
            top: 0;
          }
        }
        &.bottom.animated {
          figcaption {
            bottom: 0;
          }
        }
      }

      &.-columns-1 { column-count: 1; }
      &.-columns-2 { column-count: 2; }
      &.-columns-3 { column-count: 3; }
      &.-columns-4 { column-count: 4; }
      &.-columns-5 { column-count: 5; }
      &.-columns-6 { column-count: 6; }

      @include media-breakpoint-down(sm) {
        &.-columns-1,
        &.-columns-2,
        &.-columns-3,
        &.-columns-4,
        &.-columns-5,
        &.-columns-6 {
          column-count: 2;
        }
      }
    }
  }

  // &.-default {}
}
