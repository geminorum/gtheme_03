(function(c){var g=c("body");g.append('<div id="zoom"><a class="close"></a><a href="#previous" class="previous"></a><a href="#next" class="next"></a><div class="content loading"></div></div>');var a=c("#zoom").hide(),e=c("#zoom .content"),m='<div class="overlay"></div>',r=false,k=null,q=c(window).width(),f=c(window).height(),d=c("html[dir~='rtl']").length;function h(u){if(u){u.preventDefault()}var t=c(this),w=t.attr("href");if(!w){return}c("#zoom .previous, #zoom .next").show();if(t.hasClass("zoom")){c("#zoom .previous, #zoom .next").hide()}if(!r){r=true;a.show();g.addClass("zoomed")}var v=c(new Image()).hide().css({width:"auto"});g.append(v);e.html("").delay(500).addClass("loading");e.prepend(m);v.load(s).attr("src",w);k=t;function s(){var A=c(this),x=parseInt(e.css("borderLeftWidth")),z=q-(x*2),C=f-(x*2),D=A.width(),B=A.height();if(D==e.width()&&D<=z&&B==e.height()&&B<=C){F(A);return}if(D>z||B>C){var y=C<B?C:B,E=z<D?z:D;if(y/B<=E/D){A.width(Math.round(D*y/B));A.height(y)}else{A.width(E);A.height(Math.round(B*E/D))}}e.animate({width:A.width(),height:A.height(),marginTop:-(A.height()/2)-x,marginLeft:-(A.width()/2)-x},100,function(){F(A)});function F(G){e.html(G);G.show();e.removeClass("loading")}}}function n(){var s=k.parents("div.-wrap").prev();if(s.length==0){s=c(".-gallery div.-wrap:last-child")}s.find("a").trigger("click")}function l(){var s=k.parents("div.-wrap").next();if(s.length==0){s=c(".-gallery div.-wrap:first-child")}s.find("a").trigger("click")}function i(s){if(s){s.preventDefault()}r=false;k=null;a.hide();g.removeClass("zoomed");e.empty()}function b(){q=c(window).width();f=c(window).height()}(function o(){a.on("click",function(s){s.preventDefault();if(c(s.target).attr("id")=="zoom"){i()}});c("#zoom .close").on("click",i);c("#zoom .previous").on("click",n);c("#zoom .next").on("click",l);c(document).keydown(function(s){if(!k){return}if(s.which==38||s.which==40){s.preventDefault()}if(s.which==27){i()}if(d){if(s.which==39&&!k.hasClass("zoom")){n()}if(s.which==37&&!k.hasClass("zoom")){l()}}else{if(s.which==37&&!k.hasClass("zoom")){n()}if(s.which==39&&!k.hasClass("zoom")){l()}}});if(c(".-gallery a").length==1){c(".-gallery a")[0].addClass("zoom")}c(".zoom, .-gallery a").on("click",h)})();(function j(){c(window).on("resize",b)})();(function p(){c(window).on("mousewheel DOMMouseScroll",function(s){if(!k){return}s.stopPropagation();s.preventDefault();s.cancelBubble=false})})()})(jQuery);