!function(o){function i(i){function e(){function i(o){r.html(o),o.show(),r.removeClass("loading")}var e=o(this),t=parseInt(r.css("borderLeftWidth")),n=w-2*t,a=u-2*t,h=e.width(),l=e.height();if(h==r.width()&&h<=n&&l==r.height()&&l<=a)return void i(e);if(h>n||l>a){var d=a<l?a:l,s=n<h?n:h;d/l<=s/h?(e.width(Math.round(h*d/l)),e.height(d)):(e.width(s),e.height(Math.round(l*s/h)))}r.animate({width:e.width(),height:e.height(),marginTop:-(e.height()/2)-t,marginLeft:-(e.width()/2)-t},100,function(){i(e)})}i&&i.preventDefault();var t=o(this),n=t.attr("href");if(n){o("#zoom .previous, #zoom .next").show(),t.hasClass("zoom")&&o("#zoom .previous, #zoom .next").hide(),s||(s=!0,l.show(),h.addClass("zoomed"));var a=o(new Image).hide().css({width:"auto"});h.append(a),r.html("").delay(500).addClass("loading"),r.prepend(d),a.load(e).attr("src",n),c=t}}function e(){var i=c.parents("div.-wrap").prev();0==i.length&&(i=o(".-gallery div.-wrap:last-child")),i.find("a").trigger("click")}function t(){var i=c.parents("div.-wrap").next();0==i.length&&(i=o(".-gallery div.-wrap:first-child")),i.find("a").trigger("click")}function n(o){o&&o.preventDefault(),s=!1,c=null,l.hide(),h.removeClass("zoomed"),r.empty()}function a(){w=o(window).width(),u=o(window).height()}var h=o("body");h.append('<div id="zoom"><a class="close"></a><a href="#previous" class="previous"></a><a href="#next" class="next"></a><div class="content loading"></div></div>');var l=o("#zoom").hide(),r=o("#zoom .content"),d='<div class="overlay"></div>',s=!1,c=null,w=o(window).width(),u=o(window).height(),v=o("html[dir~='rtl']").length;!function(){l.on("click",function(i){i.preventDefault(),"zoom"==o(i.target).attr("id")&&n()}),o("#zoom .close").on("click",n),o("#zoom .previous").on("click",e),o("#zoom .next").on("click",t),o(document).keydown(function(o){c&&(38!=o.which&&40!=o.which||o.preventDefault(),27==o.which&&n(),v?(39!=o.which||c.hasClass("zoom")||e(),37!=o.which||c.hasClass("zoom")||t()):(37!=o.which||c.hasClass("zoom")||e(),39!=o.which||c.hasClass("zoom")||t()))}),1==o(".-gallery a").length&&o(".-gallery a")[0].addClass("zoom"),o(".zoom, .-gallery a").on("click",i)}(),function(){o(window).on("resize",a)}(),function(){o(window).on("mousewheel DOMMouseScroll",function(o){c&&(o.stopPropagation(),o.preventDefault(),o.cancelBubble=!1)})}()}(jQuery);