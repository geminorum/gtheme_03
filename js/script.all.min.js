FontDetect=function(){function d(){if(!f){f=!0;var j=document.body,h=document.body.firstChild,g=document.createElement("div");g.id="fontdetectHelper",c=document.createElement("span"),c.innerText="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",g.appendChild(c),j.insertBefore(g,h),g.style.position="absolute",g.style.visibility="hidden",g.style.top="-200px",g.style.left="-100000px",g.style.width="100000px",g.style.height="200px",g.style.fontSize="100px"}}function b(h,g){return h instanceof Element?window.getComputedStyle(h).getPropertyValue(g):window.jQuery?$(h).css(g):""}var f=!1,a=["serif","sans-serif","monospace","cursive","fantasy"],c=null;return{onFontLoaded:function(p,j,e,g){if(p){var q=g&&g.msInterval?g.msInterval:100,n=g&&g.msTimeout?g.msTimeout:2000;if(j||e){if(f||d(),this.isFontLoaded(p)){return void (j&&j(p))}var h=this,k=(new Date).getTime(),m=setInterval(function(){if(h.isFontLoaded(p)){return clearInterval(m),void j(p)}var i=(new Date).getTime();i-k>n&&(clearInterval(m),e&&e(p))},q)}}},isFontLoaded:function(g){var i=0,h=0;f||d();for(var e=0;e<a.length;++e){if(c.style.fontFamily='"'+g+'",'+a[e],i=c.offsetWidth,e>0&&i!=h){return !1}h=i}return !0},whichFont:function(i){for(var k=b(i,"font-family"),h=k.split(","),j=h.shift();j;){j=j.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,"$1");for(var g=0;g<a.length;g++){if(j==a[g]){return j}}if(this.isFontLoaded(j)){return j}j=h.shift()}return null}}}();jQuery(document).ready(function(a){a("html").removeClass("no-js");a.each(a("html").data("font-stack"),function(e,c){var d=c,b=d.toLowerCase().replace(/'/g,"").replace(/\s+/g,"-");FontDetect.onFontLoaded(d,function(){a("body").addClass("wf-"+b);console.log("font loaded: "+d)},function(){a("body").addClass("wf-not-"+b);console.log("font not loaded: "+d)},{msTimeout:3000})});a("a.scroll").click(function(b){b.preventDefault();a("html,body").animate({scrollTop:a(this.hash).offset().top},500)});a("a.scroll-to-top").click(function(b){b.preventDefault();a("html, body").animate({scrollTop:0},"slow")});a("img").error(function(){a(this).hide()});a('a[href="#"]').click(function(b){b.preventDefault()})});
